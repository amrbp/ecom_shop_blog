{% extends 'base.htm' %} {% load static %} {% block title %} Shop {% endblock title %} {% block content %}
<div class="container">
  <ul class="nav nav-pills mb-3 mt-4" id="pills-tab" role="tablist">
    <li class="nav-item m-3">
      <a
        class="active"
        id="pills-all-product-tab"
        data-toggle="pill"
        href="#pills-all-product"
        role="tab"
        aria-controls="pills-all-product"
        aria-selected="true"
        >All Product</a
      >
    </li>
    {% for category in categories %}
    <li class="nav-item m-3">
      <a
        class=""
        id="pills-{{category.name}}-tab"
        data-toggle="pill"
        href="#pills-{{category.name}}"
        role="tab"
        aria-controls="pills-{{category.name}}"
        aria-selected="false"
        >{{category.name}}</a
      >
    </li>
    {% endfor %}
  </ul>
  <div class="tab-content" id="pills-tabContent">
    <div
      class="tab-pane fade show active"
      id="pills-all-product"
      role="tabpanel"
      aria-labelledby="pills-home-tab"
    >
      <div>
        <div class="row">
          {% for product in products %}
          <div class="col-3">
            <div class="card mb-3">
              <img class="card-img-top" src="{{product.image.url}}" />
              <div class="card-body">
                <h6 class="card-title">{{product.name}}</h6>
                <p class="card-text">$ {{product.price}}</p>
                <div class="row">
                    <div class="col">
                      <button
                        data-product="{{product.id}}"
                        data-action="add"
                        class="btn btn-info add-btn update-cart btn-sm"
                      >
                        Add to Cart
                      </button>
    
                      <a
                        class="btn btn-outline-info btn-sm"
                        href="{% url 'products:product_detail' product.id %}"
                        >View</a
                      >
                    </div>
                  </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    {% for product in products %}
    <div
      class="tab-pane fade"
      id="pills-{{product.category}}"
      role="tabpanel"
      aria-labelledby="pills-{{product.category}}-tab"
    >
      <div class="row">
        {% for pro in products %} {% if product.category == pro.category %}
        <div class="col-3">
          <div class="card mb-3">
            <img class="card-img-top" src="{{pro.image.url}}" />
            <div class="card-body">
              <h6 class="card-title">{{pro.name}}</h6>
              <p class="card-text">$ {{pro.price}}</p>
              <div class="row">
                <div class="col">
                  <button
                    data-product="{{product.id}}"
                    data-action="add"
                    class="btn btn-info add-btn update-cart btn-sm"
                  >
                    Add to Cart
                  </button>

                  <a
                    class="btn btn-outline-info btn-sm"
                    href="{% url 'products:product_detail' product.id %}"
                    >View</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %} {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %} {% block scripts %} {% endblock scripts %}
